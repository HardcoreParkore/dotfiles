Save every 30s of inactivity
#+begin_src emacs-lisp
  (add-hook 'auto-save-hook 'org-save-all-org-buffers)
#+end_src

Open agenda on startup
#+begin_src emacs-lisp
  (org-agenda-list)
  (switch-to-buffer "*Org Agenda*")
  (spacemacs/toggle-maximize-buffer)
#+end_src

Don't split windows when displaying agenda
#+begin_src emacs-lisp
  (setq org-agenda-window-setup 'current-window)
#+end_src
  
Hook for toggling visual word wrap
#+begin_src emacs-lisp
  (add-hook 'text-mode-hook 'turn-on-visual-line-mode)
#+end_src
  
Change ellipsis
Alt: ▼, ↴, ⬎, ⤷, ⤵, and ⋱
#+begin_src emacs-lisp
  (setq org-ellipsis "↴")
#+end_src

  (if (my/work-laptop-p)
      (setq org-agenda-files '("~/org/work.org"))
      
#+begin_src emacs-lisp
  (setq org-agenda-files '("~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/inbox.org"
                           "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/work.org"
                           "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/nosync/tickler.org"
                           "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/org.org"
                           "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/gcal.org"))

  (if (my/work-laptop-p)
    (setq org-capture-templates '(("t" "Todo [inbox]" entry
                                   (file+headline "~/org/inbox.org" "Tasks")
                                   "* TODO %i%?")
                                   ))
    (setq org-capture-templates '(("t" "Todo [inbox]" entry
                                   (file+headline "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/inbox.org" "Tasks")
                                  ("T" "Tickler" entry
                                   (file+headline "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/nosync/tickler.org" "Tickler")
                                   "* %i%? \n %U")
                                  ("S" "Someday" entry
                                   (file+headline "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/nosync/someday.org" "Someday")
                                   "* %i%? \n %U")
                                  ("a" "Appointment" entry (file "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/gcal.org" )
                                   "* %?\n\n%^T\n\n:PROPERTIES:\n\n:END:\n\n")
                                  ("j" "Journal" entry (file+olp+datetree "~/org/journal.org")
                                   "** %<%H:%M> %?\n")))
    ))

  (setq org-todo-keywords
        '((sequence "TODO(t)" "PRIORITY(P)" "IN-PROGRESS(p!)" "WAITING(w@)" "|" "DONE(d!)" "CANCELLED(c@)")))
    #+end_src


gcal

#+begin_src emacs-lisp
  (setq org-gcal-client-id (getenv "ORG_GCAL_CLIENT_ID")
      org-gcal-client-secret (getenv "ORG_GCAL_CLIENT_SECRET")
      org-gcal-file-alist '(((getenv "ORG_GCAL_EMAIL_ID") .  "~/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org/gcal.org")))

  (add-hook 'org-agenda-mode-hook (lambda () (org-gcal-sync) ))
  (add-hook 'org-capture-after-finalize-hook (lambda () (org-gcal-sync) ))
#+end_src


